# Simple chat server

## 1. 请求处理流程
```
client
+----------------------------------------------------------------+
|      +-------+       +--------------+       +--------------+   |
|      |content| ----> |request method| ----> |create packet |   |
|      +-------+       +--------------+       +--------------+   |
|                                                    |           |
|      +--------------+       +----+          +--------------+   |
|      |TCP RECEIVE   | ----> |data|          |TCP SEND      |   |
|      +--------------+       +----+          +--------------+   |
|             |                                      |           |
+----------------------------------------------------------------+
|             |                                      |           |
|      +--------------+                       +--------------+   |
|      |TCP SEND      |                       |TCP RECEIVE   |   |
|      +--------------+                       +--------------+   |
|             |                                      |           |
|      +--------------+       +-------+       +--------------+   |
|      |handle request| <---- |router | <---- |parse packet  |   |
|      +--------------+       +-------+       +--------------+   |
|                                                                |
+----------------------------------------------------------------+
                                                            server
```
## 2. 报文格式
- 注册报文
```
+------------+----+-------+----+
|request type|name|ip addr|port|
+------------+----+-------+----+
```
- 转发报文
```
+------------+--------+--------+-------+
|request type|src name|dst name|content|
+------------+--------+--------+-------+
```
## 3. 总结
    不想再造轮子了=_=

